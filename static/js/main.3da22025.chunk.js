/*! For license information please see main.3da22025.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{106:function(e,t,n){},110:function(e,t,n){e.exports={usersAvatars:"user_usersAvatars__3ElzM"}},121:function(e,t,n){},122:function(e,t,n){},24:function(e,t,n){e.exports={nav:"Navbar_nav__3xBF9",navContainer:"Navbar_navContainer__12Dmt",allItems:"Navbar_allItems__1lrdh",friendsNav:"Navbar_friendsNav__32Q2f",item:"Navbar_item__3AN-g",active:"Navbar_active__1HbNQ"}},247:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),a=n(49),i=n.n(a),c=(n(121),n(3)),o=n(4),u=n(9),l=n(10),j=(n(122),n(24)),d=n.n(j),b=n(15),p=n(0),h=n(8),O=Object(h.b)((function(e){return{friends:e.sidebarContent.friends}}))((function(e){var t=Object(p.jsx)("img",{width:"25px",src:"https://static.vecteezy.com/system/resources/thumbnails/002/002/427/small/man-avatar-character-isolated-icon-free-vector.jpg",alt:"boy"}),n=e.friends.map((function(e){return Object(p.jsxs)("div",{children:[t,e.name]},e.id)}));return Object(p.jsx)("div",{className:"friends_body",children:n})})),f=function(){return Object(p.jsx)("div",{className:d.a.nav,children:Object(p.jsxs)("div",{className:d.a.navContainer,children:[Object(p.jsxs)("div",{className:d.a.allItems,children:[Object(p.jsx)("div",{className:d.a.item,children:Object(p.jsx)(b.b,{to:"/profile",activeClassName:d.a.active,children:"Profile"})}),Object(p.jsx)("div",{className:d.a.item,children:Object(p.jsx)(b.b,{to:"/dialogs",activeClassName:d.a.active,children:"Messages"})}),Object(p.jsx)("div",{className:d.a.item,children:Object(p.jsx)(b.b,{to:"/users",activeClassName:d.a.active,children:"Users"})})]}),Object(p.jsxs)("div",{className:d.a.friendsNav,children:[Object(p.jsx)("div",{children:"Friends"}),Object(p.jsx)(O,{})]})]})})},m=n(12),g=n(2),x=n(106),v=n.n(x),E=n.p+"static/media/200w.4e03e26f.webp",S=function(e){return Object(p.jsx)("div",{className:"loadingSpinner",children:Object(p.jsx)("img",{src:E})})},C="data:image/png;base64,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",P=n(23),T=function(e){var t=Object(r.useState)(e.status),n=Object(P.a)(t,2),s=n[0],a=n[1],i=Object(r.useState)(!1),c=Object(P.a)(i,2),o=c[0],u=c[1];Object(r.useEffect)((function(){a(e.status)}),[e.status]);return Object(p.jsx)(p.Fragment,{children:!0===o?Object(p.jsx)("div",{children:Object(p.jsx)("input",{onChange:function(e){a(e.currentTarget.value)},autoFocus:!0,onBlur:function(){u(!1),e.updateStatus(s)},value:s})}):Object(p.jsx)("div",{children:Object(p.jsx)("span",{onDoubleClick:function(){u(!0)},children:e.status||"No status"})})})},y=s.a.memo((function(e){return e.profileUser?Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{}),Object(p.jsxs)("div",{className:v.a.description,children:[Object(p.jsx)("div",{children:e.profileUser.fullName}),Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:e.profileUser.photos.small?e.profileUser.photos.small:C}),Object(p.jsx)(T,{status:e.status,updateStatus:e.updateStatus})," ",Object(p.jsx)("div",{children:e.profileUser.lookingForAJob?"\u0420\u0430\u0431\u043e\u0442\u0430\u044e":"\u0412 \u043f\u043e\u0438\u0441\u043a\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"}),Object(p.jsx)("div",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u0434\u043b\u044f \u0441\u0432\u044f\u0437\u0438:"}),Object(p.jsx)("div",{children:JSON.stringify(e.contacts)})]})]})]}):Object(p.jsx)(S,{})})),A=n(7),U=n.n(A),w=n(17),R=n(11),k=n(248),I=n(107),N=n.n(I).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"api-key":"a1254a8c-0530-4921-8e26-69272bb1af33"}}),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return N.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},F=function(e){return N.delete("follow/".concat(e)).then((function(e){return e.data}))},z=function(e){return N.post("follow/".concat(e)).then((function(e){return e.data}))},M=function(e){return console.warn("Obsolete method. Please use profileAPI object"),W.getProfile(e)},W={getProfile:function(e){return N.get("profile/"+e)},getStatus:function(e){return N.get("profile/status/"+e)},updateStatus:function(e){return N.put("profile/status",{status:e})}},G=function(){return N.get("auth/me").then((function(e){return e.data}))},B=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return N.post("auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},L=function(){return N.delete("auth/login").then((function(e){return e.data}))},Z={myPostsData:[{id:Object(k.a)(),likes:2,post:"Hello!"},{id:Object(k.a)(),likes:7,post:"What your name?"},{id:Object(k.a)(),likes:5,post:"Go! Go! Go!"},{id:Object(k.a)(),likes:4,post:"Hi"}],profileUser:{userId:0,lookingForAJob:!1,lookingForAJobDescription:"",fullName:"",contacts:{github:null,vk:null,facebook:null,instagram:null,twitter:null,website:null,youtube:null,mainLink:null},photos:{small:null,large:null}},status:""},H=function(e){return{type:"PROFILE-REDUCER/SET_STATUS",status:e}},Q=function(e){return{type:"PROFILE-REDUCER/GET-CONTACTS",contacts:e}},K=n(68),_=n.n(K),V=n(69),J=n.n(V),Y=function(e){return Object(p.jsxs)("div",{className:J.a.content,children:[Object(p.jsx)("div",{className:J.a.item,children:Object(p.jsx)("img",{src:"https://static.vecteezy.com/system/resources/thumbnails/001/993/889/small_2x/beautiful-latin-woman-avatar-character-icon-free-vector.jpg",alt:""})}),Object(p.jsx)("div",{children:e.message}),Object(p.jsxs)("div",{children:["Like ",e.likes]})]})},q=n(25),X=function(e){var t=Object(q.d)({initialValues:{textarea:""},validate:function(e){console.log(e.textarea.length);var t={};return e.textarea?e.textarea.length>140&&(t.textarea="No more than 140 symbols"):t.textarea="You can enter a message",t},onSubmit:function(t){e.clickCallback(t.textarea)}});return Object(p.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(p.jsx)("label",{htmlFor:"textarea",children:"Add post"}),Object(p.jsx)("div",{children:Object(p.jsx)("textarea",{id:"textarea",name:"textarea",onChange:t.handleChange,value:t.values.textarea,onBlur:t.handleBlur})}),t.errors.textarea?Object(p.jsx)("div",{style:{color:"green"},children:t.errors.textarea}):Object(p.jsx)("div",{}),Object(p.jsx)("button",{type:"submit",children:"Add post"})]})},$=s.a.memo((function(e){var t=e.profile.myPostsData.map((function(e){return Object(p.jsx)(Y,{message:e.post,likes:e.likes})})).reverse();return Object(p.jsxs)("div",{className:_.a.posts,children:[Object(p.jsx)(X,{clickCallback:function(t){e.newPost(t)}}),Object(p.jsx)("div",{className:_.a.post,children:t})]})})),ee=n(14),te=n(116),ne=["isAuth"],re=function(e){return{isAuth:e.authorization.isAuthorized}};function se(e){return Object(h.b)(re)((function(t){var n=t.isAuth,r=Object(te.a)(t,ne);return n?Object(p.jsx)(e,Object(g.a)({},r)):Object(p.jsx)(m.a,{to:"/login"})}))}var ae=Object(ee.compose)(Object(h.b)((function(e){return{profile:e.profile}}),(function(e){return{newPost:function(t){e({type:"PROFILE-REDUCER/NEW-STATE-POST",text:t})}}})),se)($),ie=function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)(y,{contacts:e.contacts,profileUser:e.profileUser,status:e.status,updateStatus:e.updateStatus}),Object(p.jsx)(ae,{})]})},ce=function(e){return e.profile.profileUser},oe=function(e){return e.profile.status},ue=function(e){return e.authorization.id},le=function(e){return e.authorization.isAuthorized},je=function(e){return e.profile.profileUser.contacts},de=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.myUserId)||this.props.history.push("/login"),this.props.getProfileThunkCreator(e),this.props.getStatusThunkCreator(e),this.props.getContactsThunkCreator(e)}},{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)(ie,Object(g.a)(Object(g.a)({},this.props),{},{profileUser:this.props.profileUser,status:this.props.status,contacts:this.props.contacts,updateStatus:this.props.updateStatusThunkCreator}))})}}]),n}(r.Component),be=Object(ee.compose)(Object(h.b)((function(e){return{profileUser:ce(e),status:oe(e),myUserId:ue(e),isAuthorized:le(e),contacts:je(e)}}),{getProfileThunkCreator:function(e){return function(){var t=Object(w.a)(U.a.mark((function t(n){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(e);case 2:r=t.sent,n({type:"PROFILE-REDUCER/SET_PROFILE_USER",profileUser:r.data}),n(Q(r.data.contacts));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatusThunkCreator:function(e){return function(){var t=Object(w.a)(U.a.mark((function t(n){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.getStatus(e);case 2:if(!(r=t.sent).data){t.next=7;break}n(H(r.data)),t.next=8;break;case 7:return t.abrupt("return","");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatusThunkCreator:function(e){return function(){var t=Object(w.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(H(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},getContactsThunkCreator:function(e){return function(){var t=Object(w.a)(U.a.mark((function t(n){var r;return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.getProfile(e);case 2:(r=t.sent).data&&n(Q(r.data.contacts));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),m.g)(de),pe="DIALOGS-REDUCER/NEW-DIALOGS-POST",he={dialogsData:[{id:Object(k.a)(),name:"Ivan",sex:"boy"},{id:Object(k.a)(),name:"Petr",sex:"boy"},{id:Object(k.a)(),name:"Masha",sex:"girl"},{id:Object(k.a)(),name:"Vasya",sex:"boy"},{id:Object(k.a)(),name:"Klava",sex:"girl"},{id:Object(k.a)(),name:"Timur",sex:"boy"}],messageData:[{id:Object(k.a)(),message:"Hey"},{id:Object(k.a)(),message:"How are you?"},{id:Object(k.a)(),message:"Have a nice day!"},{id:Object(k.a)(),message:"AAAAAAAAAA"},{id:Object(k.a)(),message:"Hi"},{id:Object(k.a)(),message:"Hi"}]},Oe=n(28),fe=n.n(Oe),me=function(e){var t="/dialogs/"+e.id,n=Object(p.jsx)("img",{src:"https://static.vecteezy.com/system/resources/thumbnails/002/002/427/small/man-avatar-character-isolated-icon-free-vector.jpg",alt:"boy"}),r=Object(p.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTea6mpJZODj13Lvutndl6PgvULvVC3tPcreM4doidd7vHImnTOeK0HkfZIrFGeHuN_aJc&usqp=CAU",alt:"girl"});return Object(p.jsx)("div",{className:fe.a.dialog,children:Object(p.jsxs)(b.b,{to:t,activeClassName:fe.a.active,children:["boy"===e.sex?n:"girl"===e.sex?r:void 0,e.name]})})},ge=function(e){return Object(p.jsx)("div",{className:fe.a.message,children:e.text})},xe=Object(ee.compose)(Object(h.b)((function(e){return{dialogs:e.dialogs}}),(function(e){return{addDialog:function(t){e({type:pe,text:t})}}})),se)((function(e){var t=e.dialogs.dialogsData.map((function(e){return Object(p.jsx)(me,{name:e.name,id:e.id,sex:e.sex},e.id)})),n=e.dialogs.messageData.map((function(e){return Object(p.jsx)(ge,{text:e.message},e.id)}));return Object(p.jsxs)("div",{className:fe.a.dialogs,children:[Object(p.jsx)("div",{className:fe.a.dialogs_items,children:t}),Object(p.jsx)("div",{className:fe.a.all_messages,children:n}),Object(p.jsx)(X,{clickCallback:function(t){e.addDialog(t)}})]})})),ve="USERS_REDUCER/FOLLOW",Ee="USERS_REDUCER/UNFOLLOW",Se="USERS_REDUCER/SET-USERS",Ce="USERS_REDUCER/SET-CURRENT-PAGE",Pe="USERS_REDUCER/SET-TOTAL-USERS-COUNT",Te="USERS_REDUCER/SPINNER-LOADER-FETCHING",ye="USERS_REDUCER/FOLLOWING-IN-PROGRESS",Ae={users:[],pageSize:20,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},Ue=function(e){return{type:Se,users:e}},we=function(e){return{type:Ce,page:e}},Re=function(e){return{type:Te,isFetching:e}},ke=function(e,t){return{type:ye,isFetching:e,id:t}},Ie=n(70),Ne=n.n(Ie),De=s.a.memo((function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);Math.ceil(t/e.portionSize);var a=Object(r.useState)(1),i=Object(P.a)(a,2),c=i[0],o=i[1],u=(c-1)*e.portionSize+1,l=c*e.portionSize;return Object(p.jsxs)("div",{className:Ne.a.paginatorWrapper,children:[c>1&&Object(p.jsx)("button",{style:{color:"red"},onClick:function(){o(1)},children:"START"}),c>1&&Object(p.jsx)("button",{style:{margin:"0 5px 0 5px"},onClick:function(){o(c-1)},children:"PREV"}),n.filter((function(e){return e>=u&&e<=l})).map((function(t){return Object(p.jsx)("span",{onClick:function(n){return e.onChangePage(t)},className:e.currentPage===t?Ne.a.selectedPage:"",style:{border:"1px solid black",margin:"2px"},children:t},t)})),c<t/e.portionSize&&Object(p.jsx)("button",{style:{margin:"0 5px 0 5px"},onClick:function(){o(c+1)},children:"NEXT"}),c<t/e.portionSize&&Object(p.jsx)("button",{style:{color:"red"},onClick:function(){o(t/e.portionSize)},children:"END"})]})})),Fe=n(110),ze=n.n(Fe),Me=s.a.memo((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:Object(p.jsx)(b.b,{to:"/profile/"+e.user.id,children:Object(p.jsx)("img",{src:null!==e.user.photos.small?e.user.photos.small:C,className:ze.a.usersAvatars})})}),Object(p.jsx)("div",{children:!0===e.user.followed?Object(p.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.unfollowUsersThunk(e.user.id)},children:"Unfollow"}):Object(p.jsx)("button",{disabled:e.followingInProgress.some((function(t){return t===e.user.id})),onClick:function(){e.followUsersThunk(e.user.id)},children:"Follow"})})]}),Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:e.user.name}),Object(p.jsx)("div",{children:null!==e.user.status?Object(p.jsxs)("span",{children:["Status: ",e.user.status]}):Object(p.jsx)("span",{})})]}),Object(p.jsxs)("span",{children:[Object(p.jsx)("div",{children:"props.user.location.city"}),Object(p.jsx)("div",{children:"props.user.location.country"})]})]})})),We=s.a.memo((function(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)(De,{pageSize:e.pageSize,totalItemsCount:e.totalItemsCount,onChangePage:e.onChangePage,currentPage:e.currentPage,portionSize:10}),e.users.map((function(t){return Object(p.jsx)(Me,{user:t,followingInProgress:e.followingInProgress,followUsersThunk:e.followUsersThunk,totalItemsCount:e.totalItemsCount,pageSize:e.pageSize,unfollowUsersThunk:e.unfollowUsersThunk,currentPage:e.currentPage,onChangePage:e.onChangePage},t.id)}))]})})),Ge=function(e){return e.usersPage.users},Be=function(e){return e.usersPage.pageSize},Le=function(e){return e.usersPage.totalUsersCount},Ze=function(e){return e.usersPage.currentPage},He=function(e){return e.usersPage.isFetching},Qe=function(e){return e.usersPage.followingInProgress},Ke=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}},{key:"onChangePage",value:function(e){this.props.getUsersThunk(e,this.props.pageSize)}},{key:"render",value:function(){return Object(p.jsxs)(p.Fragment,{children:[this.props.isFetching?Object(p.jsx)(S,{}):null,Object(p.jsx)(We,{totalItemsCount:this.props.totalItemsCount,pageSize:this.props.pageSize,onChangePage:this.onChangePage.bind(this),currentPage:this.props.currentPage,users:this.props.users,followingInProgress:this.props.followingInProgress,followUsersThunk:this.props.followUsersThunk,unfollowUsersThunk:this.props.unfollowUsersThunk})]})}}]),n}(s.a.Component),_e=Object(ee.compose)(Object(h.b)((function(e){return{users:Ge(e),pageSize:Be(e),totalItemsCount:Le(e),currentPage:Ze(e),isFetching:He(e),followingInProgress:Qe(e)}}),{getUsersThunk:function(e,t){return function(){var n=Object(w.a)(U.a.mark((function n(r){var s;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(Re(!0)),r(we(e)),n.next=4,D(e,t);case 4:s=n.sent,r(Re(!1)),r(Ue(s.items)),r((a=s.totalCount,{type:Pe,totalCount:a}));case 8:case"end":return n.stop()}var a}),n)})));return function(e){return n.apply(this,arguments)}}()},changePageThunk:function(e,t){return function(){var n=Object(w.a)(U.a.mark((function n(r){var s;return U.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(we(e)),r(Re(!0)),n.next=4,D(t);case 4:s=n.sent,r(Re(!1)),r(Ue(s.items));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},followUsersThunk:function(e){return function(){var t=Object(w.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ke(!0,e)),t.next=3,z(e);case 3:0===t.sent.resultCode&&n({type:ve,id:e}),n(ke(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollowUsersThunk:function(e){return function(){var t=Object(w.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(ke(!0,e)),t.next=3,F(e);case 3:0===t.sent.resultCode&&n({type:Ee,id:e}),n(ke(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}))(Ke),Ve=n(55),Je={id:"",email:"",login:"",isAuthorized:!1,serverError:null},Ye=function(e,t,n,r){return{type:"AUTHORIZATION/SET_AUTH_USER_DATA",payload:{id:e,email:t,login:n,isAuthorized:r}}},qe=function(){return function(){var e=Object(w.a)(U.a.mark((function e(t){var n,r,s,a,i;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:0===(n=e.sent).resultCode&&(r=n.data,s=r.id,a=r.email,i=r.login,t(Ye(s,a,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Xe=s.a.memo((function(){var e=Object(h.d)((function(e){return e.authorization.isAuthorized})),t=Object(h.d)((function(e){return e.authorization.serverError})),n=Object(h.c)();return e?Object(p.jsx)(m.a,{to:"/"}):Object(p.jsx)("div",{children:Object(p.jsx)(q.c,{initialValues:{email:"",password:"",rememberMe:!1},validationSchema:Ve.a({email:Ve.b().email("Enter valid email address").required("Email required"),password:Ve.b().min(4,"Password must be 4 characters but less 20").max(20,"Password must be 4 characters but less 20").required("Password required")}),onSubmit:function(e){var t,r,s;n((t=e.email,r=e.password,s=e.rememberMe,function(){var e=Object(w.a)(U.a.mark((function e(n){var a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t,r,s);case 2:0===(a=e.sent).resultCode?n(qe()):a.messages.length&&n({type:"AUTHORIZATION/SET-SERVER-ERROR",error:a.messages[0]});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},children:function(e){return Object(p.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("label",{htmlFor:"email",children:"Email Address"})}),Object(p.jsx)("div",{children:Object(p.jsx)(q.b,{name:"email",type:"email"})}),Object(p.jsx)("div",{style:{color:"red"},children:Object(p.jsx)(q.a,{name:"email"})})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("label",{htmlFor:"password",children:"Your Password"})}),Object(p.jsx)("div",{children:Object(p.jsx)(q.b,{name:"password",type:"password"})}),Object(p.jsx)("div",{style:{color:"red"},children:Object(p.jsx)(q.a,{name:"password"})})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:Object(p.jsx)("label",{htmlFor:"rememberMe",children:"Remember Me"})}),Object(p.jsx)("div",{children:Object(p.jsx)(q.b,{name:"rememberMe",type:"checkbox"})})]}),Object(p.jsx)("div",{style:{height:"15px",marginBottom:"10px",color:"red"},children:t&&t}),Object(p.jsx)("button",{type:"submit",children:"Login"})]})}})})})),$e=function(){return Object(p.jsx)("h1",{children:"404: PAGE NOT FOUND"})},et=n(42),tt=n.n(et),nt=function(e){var t=Object(h.c)();return Object(p.jsx)("div",{className:tt.a.headerContainer,children:Object(p.jsxs)("div",{className:tt.a.headerBody,children:[Object(p.jsx)("div",{className:tt.a.logo,children:"Social network"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:e.isAuthorized&&e.login}),Object(p.jsx)("div",{onClick:function(){return t(function(){var e=Object(w.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:0===e.sent.resultCode&&t(Ye("","","",!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},className:tt.a.loginBlock,children:e.isAuthorized?Object(p.jsx)("span",{children:"Logout"}):Object(p.jsx)(b.b,{to:"/login",children:"Login"})})]})]})})},rt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(nt,Object(g.a)(Object(g.a)({},this.props),{},{login:this.props.login,isAuthorized:this.props.isAuthorized}))})}}]),n}(s.a.Component),st=Object(ee.compose)(Object(h.b)((function(e){return{login:e.authorization.login,isAuthorized:e.authorization.isAuthorized}})))(rt),at={initialized:!1},it=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeAppTC()}},{key:"render",value:function(){return console.log(this.props.initialized),this.props.initialized?Object(p.jsxs)("div",{className:"app-wrapper",children:[Object(p.jsx)("div",{className:"app-header",children:Object(p.jsx)(st,{})}),Object(p.jsxs)("div",{className:"app-container",children:[Object(p.jsx)("div",{className:"app-navbar",children:Object(p.jsx)(f,{})}),Object(p.jsx)("div",{className:"app-wrapper-content",children:Object(p.jsxs)(m.d,{children:[Object(p.jsx)(m.b,{path:"/profile",render:function(){return Object(p.jsx)(be,{})}}),Object(p.jsx)(m.b,{exact:!0,path:"/",render:function(){return Object(p.jsx)(be,{})}}),Object(p.jsx)(m.b,{path:"/profile/:userId?",render:function(){return Object(p.jsx)(be,{})}}),Object(p.jsx)(m.b,{path:"/dialogs",render:function(){return Object(p.jsx)(xe,{})}}),Object(p.jsx)(m.b,{path:"/users",render:function(){return Object(p.jsx)(_e,{})}}),Object(p.jsx)(m.b,{path:"/login",render:function(){return Object(p.jsx)(Xe,{})}}),Object(p.jsx)(m.b,{path:"/404",render:function(){return Object(p.jsx)($e,{})}}),Object(p.jsx)(m.a,{from:"*",to:"/404"})]})})]})]}):Object(p.jsx)(S,{})}}]),n}(s.a.Component),ct=Object(ee.compose)(Object(h.b)((function(e){return{initialized:e.app.initialized}}),{initializeAppTC:function(){return function(e){var t=e(qe());Promise.all([t]).then((function(){return e({type:"APP/SET-INITIALIZED"})}))}}}),m.g)(it),ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,249)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),s(e),a(e),i(e)}))},ut={friends:[{id:Object(k.a)(),name:"Kolya",sex:"boy"},{id:Object(k.a)(),name:"Ilya",sex:"boy"},{id:Object(k.a)(),name:"Anya",sex:"girl"}]},lt=n(115),jt=n(114),dt=Object(ee.combineReducers)({dialogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;if(t.type===pe){var n={id:Object(k.a)(),message:t.text};return Object(g.a)(Object(g.a)({},e),{},{messageData:[].concat(Object(R.a)(e.messageData),[n])})}return e},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE-REDUCER/NEW-STATE-POST":var n={id:Object(k.a)(),likes:6,post:t.text};return Object(g.a)(Object(g.a)({},e),{},{myPostsData:[].concat(Object(R.a)(e.myPostsData),[n])});case"PROFILE-REDUCER/SET_PROFILE_USER":return Object(g.a)(Object(g.a)({},e),{},{profileUser:t.profileUser});case"PROFILE-REDUCER/SET_STATUS":return Object(g.a)(Object(g.a)({},e),{},{status:t.status});case"PROFILE-REDUCER/GET-CONTACTS":return Object(g.a)(Object(g.a)({},e),{},{profileUser:Object(g.a)(Object(g.a)({},e.profileUser),{},{contacts:t.contacts})});default:return e}},sidebarContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut;return e},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(g.a)(Object(g.a)({},e),{},{isFetching:t.isFetching});case Pe:return Object(g.a)(Object(g.a)({},e),{},{totalUsersCount:t.totalCount});case Ce:return Object(g.a)(Object(g.a)({},e),{},{currentPage:t.page});case ve:return Object(g.a)(Object(g.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(g.a)(Object(g.a)({},e),{},{followed:!0}):e}))});case Ee:return Object(g.a)(Object(g.a)({},e),{},{users:e.users.map((function(e){return e.id===t.id?Object(g.a)(Object(g.a)({},e),{},{followed:!1}):e}))});case Se:return Object(g.a)(Object(g.a)({},e),{},{users:Object(R.a)(t.users)});case ye:return Object(g.a)(Object(g.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(R.a)(e.followingInProgress),[t.id]):e.followingInProgress.filter((function(e){return e!==t.id}))});default:return e}},authorization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHORIZATION/SET_AUTH_USER_DATA":return Object(g.a)(Object(g.a)({},e),t.payload);case"AUTHORIZATION/SET-SERVER-ERROR":return Object(g.a)(Object(g.a)({},e),{},{serverError:t.error});default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;return"APP/SET-INITIALIZED"===t.type?Object(g.a)(Object(g.a)({},e),{},{initialized:!0}):e}}),bt=Object(ee.createStore)(dt,Object(jt.composeWithDevTools)(Object(ee.applyMiddleware)(lt.a)));i.a.render(Object(p.jsx)(h.a,{store:bt,children:Object(p.jsx)(b.a,{children:Object(p.jsx)(ct,{})})}),document.getElementById("root")),ot()},28:function(e,t,n){e.exports={dialogs_items:"Dialogs_dialogs_items__23Eo4",active:"Dialogs_active__35SEF",dialog:"Dialogs_dialog__2SpMW",all_messages:"Dialogs_all_messages__14o2x",dialogs:"Dialogs_dialogs__2WV1c"}},42:function(e,t,n){e.exports={headerContainer:"Header_headerContainer__1qmrE",headerBody:"Header_headerBody__3logS",loginBlock:"Header_loginBlock__yY8WD",logo:"Header_logo__2jBO4"}},68:function(e,t,n){e.exports={posts:"MyPosts_posts__11eh9",post:"MyPosts_post__1DUNt"}},69:function(e,t,n){e.exports={item:"Post_item__3wagf"}},70:function(e,t,n){e.exports={paginatorWrapper:"Paginator_paginatorWrapper__z2bLO",selectedPage:"Paginator_selectedPage__1Vi-H"}}},[[247,1,2]]]);
//# sourceMappingURL=main.3da22025.chunk.js.map